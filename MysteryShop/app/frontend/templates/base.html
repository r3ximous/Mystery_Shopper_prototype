<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mystery Shopper Portal</title>
  <link rel="stylesheet" href="/static/style.css" />
  <script>
    const storedTheme = localStorage.getItem('theme');
    if(storedTheme === 'light'){ document.documentElement.classList.add('light'); }
  </script>
</head>
<body>
  <header>
    <h1>Mystery Shopper</h1>
    <nav>
      <a href="/" id="nav-submit">Submit Visit</a>
      <a href="/admin" id="nav-admin">Admin</a>
    </nav>
    <div style="margin-left:auto; display:flex; gap:.6rem; align-items:center;">
      <button class="toggle-theme" onclick="toggleTheme()">Theme</button>
    </div>
  </header>
  <main class="fade-in">
    {% block content %}{% endblock %}
  </main>
  <footer>
    <small>&copy; 2025 UAE Gov Prototype â€¢ v0.1</small>
  </footer>
  <script>
    function toggleTheme(){
      document.documentElement.classList.toggle('light');
      localStorage.setItem('theme', document.documentElement.classList.contains('light') ? 'light':'dark');
    }
    // active nav
    const path = window.location.pathname;
    if(path === '/' || path.startsWith('/?')) document.getElementById('nav-submit').classList.add('active');
    if(path.startsWith('/admin')) document.getElementById('nav-admin').classList.add('active');
  </script>
</body>
</html>
